/*! jQuery formHelp - v0.1.4 - 2013-10-21
* http://www.invetek.nl/?p=85
* https://github.com/invetek/jquery-formhelp
* Copyright (c) 2013 Loran Kloeze | Invetek
* Licensed MIT 
*/

!function(a){a.formHelp=function(b,c){c=void 0===c?!1:c,b=a.extend({},{pushpinEnabled:!1},b),a("span."+(b.classPrefix?b.classPrefix+"-helptext":"helptext")).each(function(){var d=a(this).attr("data-for"),e=a(d),f=a("<div/>").addClass(b&&b.classPrefix?b.classPrefix+"-form-helpbox":"form-helpbox").attr("data-for",d).data("pushpinned",!1).append(a("<div/>").addClass("content").html('<div class="tools"><img class="pushpin" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB9JREFUeNpi/P//PwMlgImBQjBqwKgBowYMFgMAAgwAY5oDHVti48YAAAAASUVORK5CYII=" /></div>'+a(this).html()));e.last().after(f),b.pushpinEnabled&&f.find(".tools").show(),f.find(".pushpin").on("mousedown",function(){f.data("pushpinned",!f.data("pushpinned"))}).on("mouseup",function(){f.data("pushpinned")?a(this).addClass("pinned"):(a(this).removeClass("pinned"),f.fadeOut("fast"))});var g=e;e.each(function(){g=g.add('label[for="'+a(this).attr("id")+'"]')});var h=0,i=a(document).height();g.each(function(){var b=a(this).offset().left+a(this).width(),c=a(this).offset().top;h=b>h?b:h,i=i>c?c:i}),e.on("focus focusin",function(){f.css({left:h,top:i}).fadeIn("fast")}),e.on("blur focusout",function(){f.data("pushpinned")||f.fadeOut("fast")}),e.filter("textarea").on("mousemove",function(){f.css({left:a(this).offset().left+a(this).width(),top:a(this).offset().top})}),e.filter('[type="reset"],[type="submit"],[type="checkbox"],[type="radio"],[type="button"],[type="file"],[type="color"],[type="image"],[type="range"]').on("mouseover",function(){a(":input").blur(),f.css({left:h,top:i}).fadeIn("fast")}).on("mouseout",function(){c?f.data("pushpinned")||f.fadeOut("fast"):setTimeout(function(){f.data("pushpinned")||f.fadeOut("fast")},1500)}),a(this).remove()})}}(jQuery);